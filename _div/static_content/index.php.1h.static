<!DOCTYPE html><html><head><meta charset="utf-8" /><title>StromMesser Verbrauch</title>
  <meta name="description" content="zeigt deinen Energieverbrauch" />  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="strommesser.css" type="text/css" />
  <script src="script/chart.min.js"></script>
  <script src="script/moment.min.mine.js"></script>
  <script src="script/chartjs-adapter-moment.mine.js"></script>
  </head><body>
  <nav style="width:400px">
    <div id="menuToggle">
      <input type="checkbox">
      <span></span>
      <span></span>
      <span></span>
      <ul id="menu">
        <li>&nbsp;</li>
        <li><a href="../">Home</a></li>
        <li class="differentColor">Verbrauch</li>
        <li><a href="settings.php">Einstellungen</a></li>
        <li>&nbsp;</li>
        <li><a href="login.php?do=2">Log out</a></li>
      </ul>
    </div>
  </nav>
  <div class="container mx-auto px-4 py-2 lg text-center">
  <h1 class="text-2xl m-2">Verbrauch</h1><hr>Verbrauch: <b>234W</b> heute um 10:26:47<hr>
    <canvas id="myChart" width="600" height="300" class="mb-2"></canvas>
    <script>
    const ctx = document.getElementById("myChart");
    const labels = [ new Date("2023-01-26 09:28:06"), new Date("2023-01-26 09:30:07"), new Date("2023-01-26 09:32:07"), new Date("2023-01-26 09:34:08"), new Date("2023-01-26 09:36:09"), new Date("2023-01-26 09:38:12"), new Date("2023-01-26 09:40:13"), new Date("2023-01-26 09:42:13"), new Date("2023-01-26 09:44:14"), new Date("2023-01-26 09:46:16"), new Date("2023-01-26 09:48:19"), new Date("2023-01-26 09:50:20"), new Date("2023-01-26 09:52:24"), new Date("2023-01-26 09:54:24"), new Date("2023-01-26 09:56:25"), new Date("2023-01-26 09:58:25"), new Date("2023-01-26 10:00:27"), new Date("2023-01-26 10:02:27"), new Date("2023-01-26 10:04:28"), new Date("2023-01-26 10:06:29"), new Date("2023-01-26 10:08:30"), new Date("2023-01-26 10:10:32"), new Date("2023-01-26 10:12:36"), new Date("2023-01-26 10:14:37"), new Date("2023-01-26 10:16:41"), new Date("2023-01-26 10:18:42"), new Date("2023-01-26 10:20:42"), new Date("2023-01-26 10:22:44"), new Date("2023-01-26 10:24:44") ];
    const data = {
      labels: labels,
      datasets: [{
        label: "Verbrauch [W]",
        data: [ 1434, 179, 180, 149, 179, 176, 179, 150, 149, 148, 644, 2648, 2613, 2730, 2737, 2760, 679, 120, 149, 149, 119, 148, 116, 149, 116, 208, 210, 236, 210 ],
        yAxisID: "yleft",
        backgroundColor: "rgb(25, 99, 132)",
        showLine: false
      },
      {
        label: "Verbrauch total [kWh]",
        data: [ 0, 0.0060000000012224, 0.011999999995169, 0.016999999999825, 0.023000000001048, 0.028999999994994, 0.034999999996217, 0.040000000000873, 0.044999999998254, 0.049999999995634, 0.072000000000116, 0.16100000000006, 0.25099999999657, 0.34199999999691, 0.43400000000111, 0.52599999999802, 0.54899999999907, 0.55299999999988, 0.55799999999726, 0.56299999999464, 0.56699999999546, 0.57200000000012, 0.57600000000093, 0.58099999999831, 0.58499999999913, 0.59199999999691, 0.5989999999947, 0.60699999999633, 0.6140000000014 ],
        yAxisID: "yright",
        backgroundColor: "rgba(255, 99, 132, 0.4)",
        showLine: false
      }
    ],
    };
    const config = {
      type: "line",
      data: data,
      options: {
        scales: {
          x: { type: "time", 
            time: { unit: "minute" }
              },
          yleft: { type: "logarithmic", position: "left", ticks: {color: "rgb(25, 99, 132)"} },
          yright: { type: "linear",  position: "right", ticks: {color: "rgba(255, 99, 132, 0.8)"}, grid: {drawOnChartArea: false} }
        }
      }
    };
    const myChart = new Chart( document.getElementById("myChart"), config );
    </script>
<a href="index.php?range=1&reload=1"><input id="reload-checkbox" type="checkbox" value="" class="chkbox-link"></a><label for="reload-checkbox" class="chkbox-link-label"><a href="index.php?range=1&reload=1">&nbsp;reload&nbsp;</a></label>
  <a href="index.php?range=1" class="btn-diff">1 h</a>
  <a href="index.php?range=6" class="btn">6 h</a>
  <a href="index.php?range=24" class="btn">24 h</a>
  <a href="index.php?range=25" class="btn">alles</a><br /><br />
<hr>Insgesamt 909 Eintr√§ge</div></body></html>
