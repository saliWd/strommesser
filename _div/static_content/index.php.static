<!DOCTYPE html><html><head><meta charset="utf-8" /><title>StromMesser Verbrauch</title>
    <meta name="description" content="zeigt deinen Energieverbrauch" />  
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="strommesser.css" type="text/css" />
    <script src="script/chart.min.js"></script>
    <script src="script/moment.min.mine.js"></script>
    <script src="script/chartjs-adapter-moment.mine.js"></script>
    </head><body>
    <nav style="width:400px">
      <div id="menuToggle">
        <input type="checkbox">
        <span></span>
        <span></span>
        <span></span>
        <ul id="menu">
          <li>&nbsp;</li>
          <li><a href="../">Home</a></li>
          <li class="differentColor">Verbrauch</li>
          <li><a href="settings.php">Einstellungen</a></li>
          <li>&nbsp;</li>
          <li><a href="login.php?do=2">Log out</a></li>
        </ul>
      </div>
    </nav>
    <div class="container mx-auto px-4 py-2 lg text-center">
    <h1 class="text-2xl m-2">Verbrauch</h1><hr>Verbrauch: <b>2921W</b> heute um 13:12:47<hr>
      <canvas id="myChart" width="600" height="300" class="mb-2"></canvas>
      <script>
      const ctx = document.getElementById("myChart");
      const labels = [ new Date("2023-01-24 07:13:55"), new Date("2023-01-24 07:15:56"), new Date("2023-01-24 07:16:39"), new Date("2023-01-24 07:18:40"), new Date("2023-01-24 07:20:40"), new Date("2023-01-24 07:22:42"), new Date("2023-01-24 07:24:43"), new Date("2023-01-24 07:26:45"), new Date("2023-01-24 07:28:45"), new Date("2023-01-24 07:30:46"), new Date("2023-01-24 07:32:46"), new Date("2023-01-24 07:34:48"), new Date("2023-01-24 07:36:49"), new Date("2023-01-24 07:38:52"), new Date("2023-01-24 07:40:53"), new Date("2023-01-24 07:42:54"), new Date("2023-01-24 07:44:54"), new Date("2023-01-24 07:46:56"), new Date("2023-01-24 07:48:57"), new Date("2023-01-24 07:50:58"), new Date("2023-01-24 07:52:59"), new Date("2023-01-24 07:55:01"), new Date("2023-01-24 07:57:04"), new Date("2023-01-24 07:59:05"), new Date("2023-01-24 08:01:08"), new Date("2023-01-24 08:03:09"), new Date("2023-01-24 08:05:10"), new Date("2023-01-24 08:07:14"), new Date("2023-01-24 08:09:16"), new Date("2023-01-24 08:11:17"), new Date("2023-01-24 08:13:20"), new Date("2023-01-24 08:15:20"), new Date("2023-01-24 08:17:21"), new Date("2023-01-24 08:19:22"), new Date("2023-01-24 08:21:24"), new Date("2023-01-24 08:23:27"), new Date("2023-01-24 08:25:28"), new Date("2023-01-24 08:27:29"), new Date("2023-01-24 08:29:29"), new Date("2023-01-24 08:31:30"), new Date("2023-01-24 08:33:30"), new Date("2023-01-24 08:35:32"), new Date("2023-01-24 08:37:32"), new Date("2023-01-24 08:39:33"), new Date("2023-01-24 08:41:34"), new Date("2023-01-24 08:43:35"), new Date("2023-01-24 08:45:36"), new Date("2023-01-24 08:47:39"), new Date("2023-01-24 08:49:41"), new Date("2023-01-24 08:51:41"), new Date("2023-01-24 08:53:42"), new Date("2023-01-24 08:55:43"), new Date("2023-01-24 08:57:44"), new Date("2023-01-24 08:59:45"), new Date("2023-01-24 09:01:48"), new Date("2023-01-24 09:03:49"), new Date("2023-01-24 09:05:50"), new Date("2023-01-24 09:07:51"), new Date("2023-01-24 09:09:52"), new Date("2023-01-24 09:11:55"), new Date("2023-01-24 09:13:56"), new Date("2023-01-24 09:15:59"), new Date("2023-01-24 09:18:00"), new Date("2023-01-24 09:20:01"), new Date("2023-01-24 09:22:01"), new Date("2023-01-24 09:24:02"), new Date("2023-01-24 09:26:02"), new Date("2023-01-24 09:28:04"), new Date("2023-01-24 09:30:05"), new Date("2023-01-24 09:32:06"), new Date("2023-01-24 09:34:07"), new Date("2023-01-24 09:36:11"), new Date("2023-01-24 09:38:12"), new Date("2023-01-24 09:40:15"), new Date("2023-01-24 09:42:16"), new Date("2023-01-24 09:44:16"), new Date("2023-01-24 09:46:18"), new Date("2023-01-24 09:48:19"), new Date("2023-01-24 09:50:22"), new Date("2023-01-24 09:52:22"), new Date("2023-01-24 09:54:23"), new Date("2023-01-24 09:56:24"), new Date("2023-01-24 09:58:25"), new Date("2023-01-24 10:00:28"), new Date("2023-01-24 10:02:29"), new Date("2023-01-24 10:04:32"), new Date("2023-01-24 10:06:33"), new Date("2023-01-24 10:08:33"), new Date("2023-01-24 10:10:34"), new Date("2023-01-24 10:12:35"), new Date("2023-01-24 10:14:36"), new Date("2023-01-24 10:16:37"), new Date("2023-01-24 10:18:38"), new Date("2023-01-24 10:20:39"), new Date("2023-01-24 10:22:40"), new Date("2023-01-24 10:24:44"), new Date("2023-01-24 10:26:46"), new Date("2023-01-24 10:28:49"), new Date("2023-01-24 10:30:50"), new Date("2023-01-24 10:32:50"), new Date("2023-01-24 10:34:51"), new Date("2023-01-24 10:36:53"), new Date("2023-01-24 10:38:56"), new Date("2023-01-24 10:40:57"), new Date("2023-01-24 10:42:58"), new Date("2023-01-24 10:44:58"), new Date("2023-01-24 10:47:00"), new Date("2023-01-24 10:49:03"), new Date("2023-01-24 10:51:05"), new Date("2023-01-24 10:53:08"), new Date("2023-01-24 10:55:09"), new Date("2023-01-24 10:57:09"), new Date("2023-01-24 10:59:10"), new Date("2023-01-24 11:01:11"), new Date("2023-01-24 11:03:11"), new Date("2023-01-24 11:05:14"), new Date("2023-01-24 11:07:14"), new Date("2023-01-24 11:09:15"), new Date("2023-01-24 11:11:17"), new Date("2023-01-24 11:13:21"), new Date("2023-01-24 11:15:22"), new Date("2023-01-24 11:17:26"), new Date("2023-01-24 11:19:27"), new Date("2023-01-24 11:21:27"), new Date("2023-01-24 11:23:29"), new Date("2023-01-24 11:25:29"), new Date("2023-01-24 11:27:32"), new Date("2023-01-24 11:29:33"), new Date("2023-01-24 11:31:34"), new Date("2023-01-24 11:33:35"), new Date("2023-01-24 11:35:37"), new Date("2023-01-24 11:37:40"), new Date("2023-01-24 11:39:41"), new Date("2023-01-24 11:41:44"), new Date("2023-01-24 11:43:45"), new Date("2023-01-24 11:45:46"), new Date("2023-01-24 11:47:46"), new Date("2023-01-24 11:49:48"), new Date("2023-01-24 11:51:48"), new Date("2023-01-24 11:53:50"), new Date("2023-01-24 11:55:50"), new Date("2023-01-24 11:57:51"), new Date("2023-01-24 11:59:53"), new Date("2023-01-24 12:01:57"), new Date("2023-01-24 12:03:58"), new Date("2023-01-24 12:06:01"), new Date("2023-01-24 12:08:02"), new Date("2023-01-24 12:10:03"), new Date("2023-01-24 12:12:04"), new Date("2023-01-24 12:14:05"), new Date("2023-01-24 12:16:08"), new Date("2023-01-24 12:18:09"), new Date("2023-01-24 12:20:10"), new Date("2023-01-24 12:22:11"), new Date("2023-01-24 12:24:12"), new Date("2023-01-24 12:26:15"), new Date("2023-01-24 12:28:17"), new Date("2023-01-24 12:30:20"), new Date("2023-01-24 12:32:21"), new Date("2023-01-24 12:34:21"), new Date("2023-01-24 12:36:22"), new Date("2023-01-24 12:38:23"), new Date("2023-01-24 12:40:24"), new Date("2023-01-24 12:42:25"), new Date("2023-01-24 12:44:26"), new Date("2023-01-24 12:46:27"), new Date("2023-01-24 12:48:29"), new Date("2023-01-24 12:50:32"), new Date("2023-01-24 12:52:33"), new Date("2023-01-24 12:54:36"), new Date("2023-01-24 12:56:37"), new Date("2023-01-24 12:58:37"), new Date("2023-01-24 13:00:39"), new Date("2023-01-24 13:02:40"), new Date("2023-01-24 13:04:43"), new Date("2023-01-24 13:06:44"), new Date("2023-01-24 13:08:44"), new Date("2023-01-24 13:10:45") ];
      const data = {
        labels: labels,
        datasets: [{
          label: "Verbrauch [W]",
          data: [ 2892, 2945, 2428, 2975, 270, 266, 298, 266, 360, 298, 330, 295, 357, 322, 327, 327, 330, 325, 298, 298, 327, 295, 263, 238, 2137, 2886, 2797, 2787, 2951, 714, 234, 270, 238, 238, 236, 263, 268, 268, 360, 327, 360, 325, 330, 327, 327, 357, 625, 644, 502, 2850, 2856, 2856, 2886, 2678, 263, 268, 238, 238, 268, 263, 238, 263, 238, 238, 240, 238, 300, 266, 268, 298, 268, 261, 298, 263, 1993, 2820, 2833, 2856, 2868, 630, 238, 268, 238, 263, 268, 234, 238, 180, 208, 208, 208, 208, 208, 208, 208, 203, 207, 205, 238, 870, 2707, 2803, 2722, 2886, 1012, 210, 177, 176, 177, 176, 179, 150, 149, 119, 150, 117, 150, 149, 118, 145, 149, 116, 149, 150, 1593, 2700, 2663, 2767, 2737, 208, 177, 176, 179, 176, 179, 179, 150, 207, 240, 207, 240, 208, 207, 203, 179, 205, 179, 179, 446, 2767, 2722, 2826, 2797, 2083, 149, 176, 177, 146, 179, 150, 179, 208, 179, 208, 179, 208, 177, 205, 208, 205, 179, 210, 177, 208, 176, 1488, 2760, 2916 ],
          yAxisID: "yleft",
          backgroundColor: "rgb(25, 99, 132)",
          showLine: false
        },
        {
          label: "Verbrauch total [kWh]",
          data: [ 0, 0.098999999994703, 0.12799999999697, 0.22799999999552, 0.23699999999371, 0.24599999999919, 0.25599999999395, 0.26499999999942, 0.27699999999459, 0.28699999999662, 0.29799999999523, 0.30799999999726, 0.31999999999971, 0.33099999999831, 0.34199999999691, 0.35299999999552, 0.36399999999412, 0.375, 0.38499999999476, 0.3949999999968, 0.4059999999954, 0.41599999999744, 0.42499999999563, 0.43299999999726, 0.50599999999395, 0.60299999999552, 0.69700000000012, 0.79299999999785, 0.89299999999639, 0.916999999994, 0.92499999999563, 0.93399999999383, 0.94199999999546, 0.94999999999709, 0.95799999999872, 0.96699999999691, 0.97599999999511, 0.98500000000058, 0.99699999999575, 1.0079999999944, 1.0199999999968, 1.0309999999954, 1.041999999994, 1.0529999999999, 1.0639999999985, 1.0759999999937, 1.0969999999943, 1.1189999999988, 1.1359999999986, 1.2309999999998, 1.3269999999975, 1.4229999999952, 1.5199999999968, 1.6100000000006, 1.6189999999988, 1.627999999997, 1.6359999999986, 1.6440000000002, 1.6529999999984, 1.6619999999966, 1.6699999999983, 1.6789999999964, 1.6869999999981, 1.6949999999997, 1.7029999999941, 1.7109999999957, 1.7209999999977, 1.7299999999959, 1.7389999999941, 1.7489999999962, 1.7579999999944, 1.7669999999998, 1.7769999999946, 1.7860000000001, 1.8529999999955, 1.9470000000001, 2.0429999999978, 2.1389999999956, 2.2369999999937, 2.2579999999944, 2.265999999996, 2.2749999999942, 2.2829999999958, 2.291999999994, 2.3009999999995, 2.3089999999938, 2.3169999999955, 2.3229999999967, 2.3299999999945, 2.3369999999995, 2.3439999999973, 2.3509999999951, 2.3580000000002, 2.364999999998, 2.3719999999958, 2.3789999999935, 2.3859999999986, 2.3929999999964, 2.400999999998, 2.4300000000003, 2.5210000000006, 2.6159999999945, 2.7089999999953, 2.8059999999969, 2.8399999999965, 2.8469999999943, 2.8529999999955, 2.8589999999967, 2.864999999998, 2.8709999999992, 2.8770000000004, 2.8819999999978, 2.8869999999952, 2.890999999996, 2.8960000000006, 2.8999999999942, 2.9049999999988, 2.9099999999962, 2.913999999997, 2.9189999999944, 2.9239999999991, 2.9279999999999, 2.9329999999973, 2.9379999999946, 2.9919999999984, 3.0819999999949, 3.1729999999952, 3.265999999996, 3.3580000000002, 3.364999999998, 3.3709999999992, 3.3770000000004, 3.3829999999944, 3.3889999999956, 3.3949999999968, 3.400999999998, 3.4059999999954, 3.4130000000005, 3.4209999999948, 3.4279999999999, 3.4359999999942, 3.4429999999993, 3.4499999999971, 3.4569999999949, 3.4629999999961, 3.4699999999939, 3.4759999999951, 3.4819999999963, 3.4969999999958, 3.5899999999965, 3.6829999999973, 3.7779999999984, 3.8719999999958, 3.9419999999955, 3.9470000000001, 3.9529999999941, 3.9589999999953, 3.9639999999999, 3.9699999999939, 3.9749999999985, 3.9809999999998, 3.9879999999976, 3.9939999999988, 4.0009999999966, 4.0069999999978, 4.0139999999956, 4.0199999999968, 4.0269999999946, 4.0339999999997, 4.0409999999974, 4.0469999999987, 4.0539999999964, 4.0599999999977, 4.0669999999955, 4.0729999999967, 4.1229999999996, 4.2149999999965, 4.3129999999946 ],
          yAxisID: "yright",
          backgroundColor: "rgba(255, 99, 132, 0.4)",
          showLine: false
        }
      ],
      };
      const config = {
        type: "line",
        data: data,
        options: {
          scales: {
            x: { type: "time", 
              time: { unit: "hour" }
                },
            yleft: { type: "logarithmic", position: "left", ticks: {color: "rgb(25, 99, 132)"} },
            yright: { type: "linear",  position: "right", ticks: {color: "rgba(255, 99, 132, 0.8)"}, grid: {drawOnChartArea: false} }
          }
        }
      };
      const myChart = new Chart( document.getElementById("myChart"), config );
      </script>
  <script>
  function setValAndSubmit(valueString){
      document.getElementById('hiddentext').value=valueString;
      document.getElementById('timerangeform').submit();
  }
  </script>
  <form id="timerangeform" action="index.php" method="get">
  <input type="checkbox" id="reload" name="reload" value="1" onChange="setValAndSubmit('6')" > reload&nbsp;<button type="button" onclick="setValAndSubmit('1')" class="btn">1 h</button><button type="button" onclick="setValAndSubmit('6')" class="btn-diff">6 h</button><button type="button" onclick="setValAndSubmit('24')" class="btn">24 h</button><button type="button" onclick="setValAndSubmit('25')" class="btn">alles</button><input type="text" id="hiddentext" name="range" value="invalidRange" hidden class="w-min">
  </form>
  <hr>Insgesamt 801 Einträge</div></body></html>
  