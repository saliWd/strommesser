<!DOCTYPE html><html><head><meta charset="utf-8" /><title>StromMesser Verbrauch</title>
  <meta name="description" content="zeigt deinen Energieverbrauch" />  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="strommesser.css" type="text/css" />
  <script src="script/chart.min.js"></script>
  <script src="script/moment.min.mine.js"></script>
  <script src="script/chartjs-adapter-moment.mine.js"></script>
  </head><body>
  <nav style="width:400px">
    <div id="menuToggle">
      <input type="checkbox">
      <span></span>
      <span></span>
      <span></span>
      <ul id="menu">
        <li>&nbsp;</li>
        <li><a href="../">Home</a></li>
        <li class="differentColor">Verbrauch</li>
        <li><a href="settings.php">Einstellungen</a></li>
        <li>&nbsp;</li>
        <li><a href="login.php?do=2">Log out</a></li>
      </ul>
    </div>
  </nav>
  <div class="container mx-auto px-4 py-2 lg text-center">
  <h1 class="text-2xl m-2">Verbrauch</h1><hr>Verbrauch: <b>2707W</b> heute um 20:32:13<hr>
    <canvas id="myChart" width="600" height="300" class="mb-2"></canvas>
    <script>
    const ctx = document.getElementById("myChart");
    const labels = [ new Date("2023-01-25 14:33:25"), new Date("2023-01-25 14:35:26"), new Date("2023-01-25 14:37:26"), new Date("2023-01-25 14:39:27"), new Date("2023-01-25 14:41:29"), new Date("2023-01-25 14:43:32"), new Date("2023-01-25 14:45:32"), new Date("2023-01-25 14:47:33"), new Date("2023-01-25 14:49:34"), new Date("2023-01-25 14:51:35"), new Date("2023-01-25 14:53:39"), new Date("2023-01-25 14:55:40"), new Date("2023-01-25 14:57:42"), new Date("2023-01-25 14:59:43"), new Date("2023-01-25 15:01:44"), new Date("2023-01-25 15:03:44"), new Date("2023-01-25 15:05:45"), new Date("2023-01-25 15:07:46"), new Date("2023-01-25 15:09:47"), new Date("2023-01-25 15:11:47"), new Date("2023-01-25 15:13:48"), new Date("2023-01-25 15:15:50"), new Date("2023-01-25 15:17:53"), new Date("2023-01-25 15:19:55"), new Date("2023-01-25 15:21:57"), new Date("2023-01-25 15:23:57"), new Date("2023-01-25 15:24:40"), new Date("2023-01-25 15:26:41"), new Date("2023-01-25 15:28:41"), new Date("2023-01-25 15:30:43"), new Date("2023-01-25 15:32:44"), new Date("2023-01-25 15:34:46"), new Date("2023-01-25 15:36:46"), new Date("2023-01-25 15:38:47"), new Date("2023-01-25 15:40:48"), new Date("2023-01-25 15:42:49"), new Date("2023-01-25 15:44:51"), new Date("2023-01-25 15:46:51"), new Date("2023-01-25 15:48:52"), new Date("2023-01-25 15:50:52"), new Date("2023-01-25 15:52:53"), new Date("2023-01-25 15:54:54"), new Date("2023-01-25 15:56:55"), new Date("2023-01-25 15:58:56"), new Date("2023-01-25 16:00:57"), new Date("2023-01-25 16:02:59"), new Date("2023-01-25 16:05:02"), new Date("2023-01-25 16:07:02"), new Date("2023-01-25 16:09:06"), new Date("2023-01-25 16:11:06"), new Date("2023-01-25 16:13:07"), new Date("2023-01-25 16:15:09"), new Date("2023-01-25 16:17:10"), new Date("2023-01-25 16:19:11"), new Date("2023-01-25 16:21:14"), new Date("2023-01-25 16:23:15"), new Date("2023-01-25 16:25:16"), new Date("2023-01-25 16:27:16"), new Date("2023-01-25 16:29:18"), new Date("2023-01-25 16:31:21"), new Date("2023-01-25 16:33:24"), new Date("2023-01-25 16:35:24"), new Date("2023-01-25 16:37:25"), new Date("2023-01-25 16:39:25"), new Date("2023-01-25 16:41:26"), new Date("2023-01-25 16:43:27"), new Date("2023-01-25 16:45:28"), new Date("2023-01-25 16:47:29"), new Date("2023-01-25 16:49:30"), new Date("2023-01-25 16:51:31"), new Date("2023-01-25 16:53:33"), new Date("2023-01-25 16:55:36"), new Date("2023-01-25 16:57:37"), new Date("2023-01-25 16:59:38"), new Date("2023-01-25 17:01:39"), new Date("2023-01-25 17:03:43"), new Date("2023-01-25 17:05:44"), new Date("2023-01-25 17:07:45"), new Date("2023-01-25 17:09:50"), new Date("2023-01-25 17:11:50"), new Date("2023-01-25 17:13:51"), new Date("2023-01-25 17:15:52"), new Date("2023-01-25 17:17:53"), new Date("2023-01-25 17:19:56"), new Date("2023-01-25 17:21:57"), new Date("2023-01-25 17:24:01"), new Date("2023-01-25 17:26:02"), new Date("2023-01-25 17:28:02"), new Date("2023-01-25 17:30:02"), new Date("2023-01-25 17:32:03"), new Date("2023-01-25 17:34:04"), new Date("2023-01-25 17:36:05"), new Date("2023-01-25 17:38:05"), new Date("2023-01-25 17:40:06"), new Date("2023-01-25 17:42:08"), new Date("2023-01-25 17:44:11"), new Date("2023-01-25 17:46:13"), new Date("2023-01-25 17:48:16"), new Date("2023-01-25 17:50:16"), new Date("2023-01-25 17:52:17"), new Date("2023-01-25 17:54:18"), new Date("2023-01-25 17:56:19"), new Date("2023-01-25 17:58:22"), new Date("2023-01-25 18:00:22"), new Date("2023-01-25 18:02:23"), new Date("2023-01-25 18:04:24"), new Date("2023-01-25 18:06:26"), new Date("2023-01-25 18:08:28"), new Date("2023-01-25 18:10:29"), new Date("2023-01-25 18:12:32"), new Date("2023-01-25 18:14:33"), new Date("2023-01-25 18:16:34"), new Date("2023-01-25 18:18:34"), new Date("2023-01-25 18:20:36"), new Date("2023-01-25 18:22:36"), new Date("2023-01-25 18:24:37"), new Date("2023-01-25 18:26:38"), new Date("2023-01-25 18:28:39"), new Date("2023-01-25 18:30:40"), new Date("2023-01-25 18:32:43"), new Date("2023-01-25 18:34:45"), new Date("2023-01-25 18:36:48"), new Date("2023-01-25 18:38:49"), new Date("2023-01-25 18:40:49"), new Date("2023-01-25 18:42:51"), new Date("2023-01-25 18:44:52"), new Date("2023-01-25 18:46:55"), new Date("2023-01-25 18:48:55"), new Date("2023-01-25 18:50:56"), new Date("2023-01-25 18:52:57"), new Date("2023-01-25 18:54:58"), new Date("2023-01-25 18:57:01"), new Date("2023-01-25 18:59:03"), new Date("2023-01-25 19:01:06"), new Date("2023-01-25 19:03:07"), new Date("2023-01-25 19:05:07"), new Date("2023-01-25 19:07:08"), new Date("2023-01-25 19:09:09"), new Date("2023-01-25 19:11:09"), new Date("2023-01-25 19:13:11"), new Date("2023-01-25 19:15:12"), new Date("2023-01-25 19:17:13"), new Date("2023-01-25 19:19:14"), new Date("2023-01-25 19:21:18"), new Date("2023-01-25 19:23:20"), new Date("2023-01-25 19:25:23"), new Date("2023-01-25 19:27:24"), new Date("2023-01-25 19:29:25"), new Date("2023-01-25 19:31:26"), new Date("2023-01-25 19:33:27"), new Date("2023-01-25 19:35:30"), new Date("2023-01-25 19:37:31"), new Date("2023-01-25 19:39:32"), new Date("2023-01-25 19:41:33"), new Date("2023-01-25 19:43:34"), new Date("2023-01-25 19:45:37"), new Date("2023-01-25 19:47:45"), new Date("2023-01-25 19:49:45"), new Date("2023-01-25 19:51:48"), new Date("2023-01-25 19:53:48"), new Date("2023-01-25 19:55:49"), new Date("2023-01-25 19:57:49"), new Date("2023-01-25 19:59:51"), new Date("2023-01-25 20:01:51"), new Date("2023-01-25 20:03:52"), new Date("2023-01-25 20:05:56"), new Date("2023-01-25 20:07:57"), new Date("2023-01-25 20:10:01"), new Date("2023-01-25 20:12:01"), new Date("2023-01-25 20:14:02"), new Date("2023-01-25 20:16:04"), new Date("2023-01-25 20:18:05"), new Date("2023-01-25 20:20:06"), new Date("2023-01-25 20:22:07"), new Date("2023-01-25 20:24:09"), new Date("2023-01-25 20:26:10"), new Date("2023-01-25 20:28:10"), new Date("2023-01-25 20:30:12") ];
    const data = {
      labels: labels,
      datasets: [{
        label: "Verbrauch [W]",
        data: [ 207, 238, 210, 238, 236, 176, 210, 387, 2678, 2737, 2671, 2797, 1357, 119, 149, 150, 119, 149, 149, 120, 149, 148, 146, 177, 177, 150, 167, 179, 180, 177, 1041, 2656, 2760, 2678, 2767, 1250, 207, 390, 625, 630, 625, 684, 684, 684, 714, 1003, 966, 780, 813, 900, 893, 885, 922, 3392, 3395, 3540, 2678, 2310, 2272, 2341, 2429, 2670, 3124, 3510, 3481, 3570, 3511, 1577, 268, 655, 974, 937, 774, 268, 268, 755, 982, 774, 259, 270, 774, 1012, 1101, 2049, 2975, 2932, 3392, 3750, 1800, 1101, 565, 446, 570, 1041, 1092, 1112, 1269, 1288, 1200, 833, 1428, 1607, 1668, 1680, 1131, 1101, 3246, 3600, 3719, 3659, 3779, 1101, 1080, 502, 660, 536, 625, 298, 298, 293, 295, 293, 298, 300, 295, 298, 351, 390, 298, 655, 2826, 2780, 2862, 2868, 2142, 150, 149, 179, 180, 148, 149, 149, 149, 145, 148, 234, 238, 238, 268, 268, 293, 238, 238, 1369, 2767, 2751, 2700, 3060, 1288, 180, 208, 180, 177, 150, 149, 145, 149, 145, 150, 149, 148, 149, 149, 149, 177, 149, 1230, 2656 ],
        yAxisID: "yleft",
        backgroundColor: "rgb(25, 99, 132)",
        showLine: false
      },
      {
        label: "Verbrauch total [kWh]",
        data: [ 0, 0.0080000000016298, 0.014999999999418, 0.023000000001048, 0.031000000002678, 0.036999999996624, 0.044000000001688, 0.057000000000698, 0.14699999999721, 0.2390000000014, 0.33099999999831, 0.42499999999563, 0.47099999999773, 0.47499999999854, 0.47999999999593, 0.48500000000058, 0.4890000000014, 0.49399999999878, 0.49899999999616, 0.50299999999697, 0.50800000000163, 0.51299999999901, 0.51799999999639, 0.52399999999761, 0.52999999999884, 0.53499999999622, 0.53699999999662, 0.54299999999785, 0.54899999999907, 0.55500000000029, 0.58999999999651, 0.68000000000029, 0.77199999999721, 0.86200000000099, 0.95500000000175, 0.99699999999575, 1.0040000000008, 1.0169999999998, 1.0380000000005, 1.0590000000011, 1.0800000000017, 1.1029999999955, 1.1259999999966, 1.1489999999976, 1.1730000000025, 1.2070000000022, 1.239999999998, 1.265999999996, 1.2940000000017, 1.3240000000005, 1.3539999999994, 1.3839999999982, 1.4150000000009, 1.5290000000023, 1.6449999999968, 1.7639999999956, 1.8539999999994, 1.9309999999969, 2.0080000000016, 2.0879999999961, 2.1710000000021, 2.260000000002, 2.364999999998, 2.4819999999963, 2.599000000002, 2.7189999999973, 2.8369999999995, 2.8899999999994, 2.8989999999976, 2.9210000000021, 2.9539999999979, 2.9859999999971, 3.0120000000024, 3.0210000000006, 3.0299999999988, 3.0559999999969, 3.0889999999999, 3.114999999998, 3.1239999999962, 3.1330000000016, 3.1589999999997, 3.1929999999993, 3.2299999999959, 3.2999999999956, 3.4000000000015, 3.5009999999966, 3.614999999998, 3.739999999998, 3.7999999999956, 3.8369999999995, 3.8559999999998, 3.8709999999992, 3.8899999999994, 3.9249999999956, 3.9619999999995, 4, 4.0429999999978, 4.0869999999995, 4.1270000000004, 4.1549999999988, 4.2030000000013, 4.2569999999978, 4.3139999999985, 4.3700000000026, 4.4079999999958, 4.4449999999997, 4.5550000000003, 4.676999999996, 4.801999999996, 4.926999999996, 5.0539999999964, 5.0910000000003, 5.1270000000004, 5.1440000000002, 5.1659999999974, 5.1840000000011, 5.2050000000017, 5.2149999999965, 5.2249999999985, 5.2350000000006, 5.2450000000026, 5.2549999999974, 5.2649999999994, 5.2750000000015, 5.2849999999962, 5.2949999999983, 5.3070000000007, 5.3199999999997, 5.3300000000017, 5.351999999999, 5.4470000000001, 5.5420000000013, 5.6389999999956, 5.737000000001, 5.8090000000011, 5.8139999999985, 5.8189999999959, 5.8249999999971, 5.8309999999983, 5.8359999999957, 5.8410000000003, 5.8459999999977, 5.8510000000024, 5.8559999999998, 5.8609999999971, 5.8689999999988, 5.8770000000004, 5.885000000002, 5.8940000000002, 5.9029999999984, 5.9130000000005, 5.9210000000021, 5.9289999999964, 5.9749999999985, 6.0679999999993, 6.1619999999966, 6.2580000000016, 6.3600000000006, 6.4040000000023, 6.4099999999962, 6.4170000000013, 6.4230000000025, 6.4289999999964, 6.4340000000011, 6.4389999999985, 6.4439999999959, 6.4490000000005, 6.4539999999979, 6.4590000000026, 6.4639999999999, 6.4689999999973, 6.474000000002, 6.4789999999994, 6.4839999999967, 6.489999999998, 6.4950000000026, 6.5360000000001, 6.6259999999966 ],
        yAxisID: "yright",
        backgroundColor: "rgba(255, 99, 132, 0.4)",
        showLine: false
      }
    ],
    };
    const config = {
      type: "line",
      data: data,
      options: {
        scales: {
          x: { type: "time", 
            time: { unit: "hour" }
              },
          yleft: { type: "logarithmic", position: "left", ticks: {color: "rgb(25, 99, 132)"} },
          yright: { type: "linear",  position: "right", ticks: {color: "rgba(255, 99, 132, 0.8)"}, grid: {drawOnChartArea: false} }
        }
      }
    };
    const myChart = new Chart( document.getElementById("myChart"), config );
    </script>
<script>
function setValAndSubmit(valueString){
    document.getElementById('hiddentext').value=valueString;
    document.getElementById('timerangeform').submit();
}
</script>
<form id="timerangeform" action="index.php" method="get">
<input type="checkbox" id="reload" name="reload" value="1" onChange="setValAndSubmit('6')" > reload&nbsp;<button type="button" onclick="setValAndSubmit('1')" class="btn">1 h</button><button type="button" onclick="setValAndSubmit('6')" class="btn-diff">6 h</button><button type="button" onclick="setValAndSubmit('24')" class="btn">24 h</button><button type="button" onclick="setValAndSubmit('25')" class="btn">alles</button><input type="text" id="hiddentext" name="range" value="invalidRange" hidden class="w-min">
</form>
<hr>Insgesamt 903 Einträge</div></body></html>
