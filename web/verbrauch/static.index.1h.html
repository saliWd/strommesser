<!DOCTYPE html>
  <html>
  <head>
  <meta charset="utf-8">
  <title>StromMesser Verbrauch</title>
  <meta name="description" content="zeigt deinen Energieverbrauch">  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="strommesser.css" type="text/css">
  <script src="script/chart.min.js"></script>
  <script src="script/moment.min.mine.js"></script>
  <script src="script/chartjs-adapter-moment.mine.js"></script>
  <script src="script/flowbite.min.js"></script>
  </head>
  <body><div style="width: 80%; top:7rem; min-height:3rem; padding:0 20px; text-align:center; font-size:larger; line-height:3rem; border-radius:3rem; box-sizing:border-box; color: rgb(25, 99, 132);border:2px solid rgb(25, 99, 132);  position:relative; display:block; background-color:rgba(255, 255, 255, 0.8); z-index:2; transform:rotate(-10deg);"><b>Demo-Account:</b> Daten sind nicht aktuell und Einstellungen werden nicht gespeichert.</div>
  
  <nav style="width:400px">
    <div id="menuToggle">
      <input type="checkbox">
      <span></span>
      <span></span>
      <span></span>
      <ul id="menu">
        <li>&nbsp;</li>
        <li><a href="../">Home</a></li>
        <li class="differentColor">Verbrauch</li>
        <li><a href="static.statistic.html">Statistik</a></li>
        <li><a href="static.settings.html">Einstellungen</a></li>
        <li>&nbsp;</li>
        <li><a href="static.login.html" id="navLogoutLink">Log out</a></li>
      </ul>
    </div>
  </nav>
  <div class="container mx-auto px-4 py-2 lg text-center">
  <h1 class="text-2xl m-2">Verbrauch</h1>
  <hr>Verbrauch: <b>2479W</b> heute um 11:23:44<hr>
    <canvas id="myChart" width="600" height="300" class="mb-2"></canvas>
    <script>
    const ctx = document.getElementById("myChart");
    const labels = [ new Date("2023-02-10 10:25:05"), new Date("2023-02-10 10:27:06"), new Date("2023-02-10 10:29:08"), new Date("2023-02-10 10:31:10"), new Date("2023-02-10 10:33:11"), new Date("2023-02-10 10:35:11"), new Date("2023-02-10 10:37:12"), new Date("2023-02-10 10:39:14"), new Date("2023-02-10 10:41:15"), new Date("2023-02-10 10:43:16"), new Date("2023-02-10 10:45:18"), new Date("2023-02-10 10:47:18"), new Date("2023-02-10 10:49:19"), new Date("2023-02-10 10:51:20"), new Date("2023-02-10 10:53:23"), new Date("2023-02-10 10:55:24"), new Date("2023-02-10 10:57:25"), new Date("2023-02-10 10:59:25"), new Date("2023-02-10 11:01:28"), new Date("2023-02-10 11:03:28"), new Date("2023-02-10 11:05:30"), new Date("2023-02-10 11:07:32"), new Date("2023-02-10 11:09:32"), new Date("2023-02-10 11:11:33"), new Date("2023-02-10 11:13:37"), new Date("2023-02-10 11:15:40"), new Date("2023-02-10 11:17:41"), new Date("2023-02-10 11:19:41"), new Date("2023-02-10 11:21:42") ];
    const data = {
      labels: labels,
      datasets: [{
        label: "Verbrauch [W]",
        data: [ 10, 10, 10, 177, 2529, 2550, 2529, 2567, 2142, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 1230, 2440 ],
        yAxisID: "yleft",
        backgroundColor: "rgb(25, 99, 132)",
        showLine: false
      },
      {
        label: "Verbrauch total [kWh]",
        data: [ 0, 0, 0, 0.0060000000012224, 0.091000000000349, 0.17600000000675, 0.26100000000588, 0.34800000000541, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.42000000000553, 0.46100000000297, 0.54300000000512 ],
        yAxisID: "yright",
        backgroundColor: "rgba(255, 99, 132, 0.4)",
        showLine: false
      }
    ],
    };
    const config = {
      type: "line",
      data: data,
      options: {
        scales: {
          x: { type: "time", 
            time: { unit: "minute" }
              },
          yleft: { type: "logarithmic", position: "left", ticks: {color: "rgb(25, 99, 132)"} },
          yright: { type: "linear",  position: "right", ticks: {color: "rgba(255, 99, 132, 0.8)"}, grid: {drawOnChartArea: false} }
        }
      }
    };
    const myChart = new Chart( document.getElementById("myChart"), config );
    </script>
<a href="static.index.1h.html&reload=1"><input id="reload-checkbox" type="checkbox" value="" class="chkbox-link"></a><label for="reload-checkbox" class="chkbox-link-label"><a href="static.index.1h.html&reload=1">reload </a></label><a id="range_1h_link" href="static.index.1h.html" class="btn-diff">1 h</a><a id="range_6h_link" href="static.index.6h.html" class="btn">6 h</a><a id="range_24h_link" href="static.index.24h.html" class="btn">24 h</a><a id="range_25h_link" href="static.index.25h.html" class="btn">alles</a><br><br>
<hr>
<div class="flex items-center">
  <div class="text-sm font-light text-gray-500">
    Info / Details:
    <button data-popover-target="popover-descriptionIndex" data-popover-placement="bottom-end" type="button">
    <svg class="w-4 h-4 ml-2 text-gray-400 hover:text-gray-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
    </svg><span class="sr-only">Show information</span></button>  
  </div>
  <div class="flex-auto ml-6 text-right">Insgesamt 839 Einträge</div>
</div>
<div data-popover id="popover-descriptionIndex" role="tooltip" class="text-left absolute z-10 invisible inline-block text-sm font-light text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72">
    <div class="p-3 space-y-2">
        <h3 class="font-semibold text-gray-900">Verbrauch in Watt (blau)</h3>
        <p>Alle zwei Minuten wird der Energiezähler ausgelesen. Dies erfolgt mit einer Genauigkeit von 0.001 kWh, d.h. 1 Wh = 3600 W über einen Zeitraum von ca. zwei Minuten = 120 Sekunden. Für die einzelne Wattmessung entspricht das einer Auflösung von ca. 30 W. Dies wird in blau auf der linken Skala logarithmisch aufgetragen.</p>
        <h3 class="font-semibold text-gray-900">Verbrauch Total (rot)</h3>
        <p>Der Totalverbrauch (in Wh-Auflösung) wird rot und auf der rechten Skala aufgetragen. Diese Skala beginnt immer bei 0 kWh.</p>
        <h3 class="font-semibold text-gray-900">Zeitliche Auflösung (x-Achse)</h3>
        <p>Innerhalb der letzten 24 Stunden wird jede Messung dargestellt. Ältere Messungen nur noch mit einem Punkt pro Stunde (Zeitraum 24 Stunden bis 72 Stunden), bzw. mit einem Punkt pro Tag (älter).</p>
        <h3 class="font-semibold text-gray-900">Mehr Infos</h3>
        <p>Weitere Infos und Verbrauchsstatistiken findest du auf der Statistikseite</p>
        <a href="static.statistic.html" class="flex items-center font-medium text-blue-600 hover:text-blue-700">Statistik <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></a>
    </div>
    <div data-popper-arrow></div>
</div>
<br>
  <div class="mt-4 text-xl">Tagesverbrauch <b>diese</b> Woche</div>
  <canvas id="weeklyBarThisWeek" width="600" height="300" class="mb-2"></canvas>
  <script>
  const ctxweeklyBarThisWeek = document.getElementById("weeklyBarThisWeek");
  const labelsweeklyBarThisWeek = [ "Mo", "Di", "Mi", "Do", "Fr", "Sa", "So" ];
  const dataweeklyBarThisWeek = {
    labels: labelsweeklyBarThisWeek,
    datasets: [{
      data: [ 829, 884, 968, 1147, 1115,  ,   ],
      backgroundColor: [      
        "rgba(255, 99, 132, 0.2)",
        "rgba(255, 159, 64, 0.2)",
        "rgba(255, 205, 86, 0.2)",
        "rgba(75, 192, 192, 0.2)",
        "rgba(54, 162, 235, 0.2)",
        "rgba(153, 102, 255, 0.2)",
        "rgba(201, 203, 207, 0.2)"
      ],
      borderColor: [
        "rgb(255, 99, 132)",
        "rgb(255, 159, 64)",
        "rgb(255, 205, 86)",
        "rgb(75, 192, 192)",
        "rgb(54, 162, 235)",
        "rgb(153, 102, 255)",
        "rgb(201, 203, 207)"
      ],
      borderWidth: 1
    }]
  };
  const configweeklyBarThisWeek = {
    type: "bar",
    data: dataweeklyBarThisWeek,
    options: { plugins : { legend: { display: false } } },
  };
  const weeklyBarThisWeek = new Chart( document.getElementById("weeklyBarThisWeek"), configweeklyBarThisWeek );
  </script>

  <p class="flex items-center text-sm font-light text-gray-500">Info / Details:<button data-popover-target="popover-descriptionweeklyBarThisWeek" data-popover-placement="bottom-end" type="button"><svg class="w-4 h-4 ml-2 text-gray-400 hover:text-gray-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg><span class="sr-only">Show information</span></button></p>
  <div data-popover id="popover-descriptionweeklyBarThisWeek" role="tooltip" class="text-left absolute z-10 invisible inline-block text-sm font-light text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72">
      <div class="p-3 space-y-2">
          <h3 class="font-semibold text-gray-900">Tagesverbrauch</h3>
          <p>Durchschnittsverbrauch in Watt pro Tag. Ein Durschnittsverbrauch von 1000 Watt enstpricht einem Tagesverbrauch von 24 kWh. Gemessen wird von 00:00 Uhr bis 23:59 Uhr, bzw. am aktuellen Tag `bis jetzt`</p>
          <h3 class="font-semibold text-gray-900">Mehr Infos</h3>
          <p>Weitere Infos und Verbrauchsstatistiken findest du auf der Statistikseite</p>
          <a href="static.statistic.html" class="flex items-center font-medium text-blue-600 hover:text-blue-700">Statistik <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></a>
      </div>
      <div data-popper-arrow></div>
  </div>
  <hr>
  <br>
  
  <div class="mt-4 text-xl">Tagesverbrauch diesen Monat</div>
  <canvas id="monthlyBarThisWeek" width="600" height="300" class="mb-2"></canvas>
  <script>
  const ctxmonthlyBarThisWeek = document.getElementById("monthlyBarThisWeek");
  const labelsmonthlyBarThisWeek = [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28 ];
  const datamonthlyBarThisWeek = {
    labels: labelsmonthlyBarThisWeek,
    datasets: [{
      data: [ 739, 925, 876, 872, 1219, 829, 884, 968, 1147, 1115,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,  ,   ],      
    }]
  };
  const configmonthlyBarThisWeek = {
    type: "bar",
    data: datamonthlyBarThisWeek,
    options: { plugins : { legend: { display: false } } },
  };
  const monthlyBarThisWeek = new Chart( document.getElementById("monthlyBarThisWeek"), configmonthlyBarThisWeek );
  </script>

  <p class="flex items-center text-sm font-light text-gray-500">Info / Details:<button data-popover-target="popover-descriptionmonthlyBarThisWeek" data-popover-placement="bottom-end" type="button"><svg class="w-4 h-4 ml-2 text-gray-400 hover:text-gray-500" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path></svg><span class="sr-only">Show information</span></button></p>
  <div data-popover id="popover-descriptionmonthlyBarThisWeek" role="tooltip" class="text-left absolute z-10 invisible inline-block text-sm font-light text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 w-72">
      <div class="p-3 space-y-2">
          <h3 class="font-semibold text-gray-900">Tagesverbrauch pro Monat</h3>
          <p>Durchschnittsverbrauch in Watt pro Tag. Ein Durschnittsverbrauch von 1000 Watt enstpricht einem Tagesverbrauch von 24 kWh. Gemessen wird von 00:00 Uhr bis 23:59 Uhr, bzw. am aktuellen Tag `bis jetzt`</p>
          <h3 class="font-semibold text-gray-900">Mehr Infos</h3>
          <p>Weitere Infos und Verbrauchsstatistiken findest du auf der Statistikseite</p>
          <a href="static.statistic.html" class="flex items-center font-medium text-blue-600 hover:text-blue-700">Statistik <svg class="w-4 h-4 ml-1" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></a>
      </div>
      <div data-popper-arrow></div>
  </div>
  <hr>
  <br>
  <br><br>
</div></body></html>