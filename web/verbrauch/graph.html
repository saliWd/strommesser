<!DOCTYPE html><html><head>
  <meta charset="utf-8" />
  <title>StromMesser Verbrauch</title>
  <meta name="description" content="zeigt deinen Energieverbrauch" />  
  <meta name="viewport" content="width=device-width, initial-scale=1" />  
  <link rel="stylesheet" href="css/strommesser.css" type="text/css" />
  <script src="script/chart.min.js"></script>
  <script src="script/moment.min.mine.js"></script>
  <script src="script/chartjs-adapter-moment.mine.js"></script>
  </head><body>
  <nav style="width:400px">
    <div id="menuToggle">
      <input type="checkbox">
      <span></span>
      <span></span>
      <span></span>
      <ul id="menu">
        <li>&nbsp;</li>
        <li><a href="../wp/">Home</a></li>
        <li class="differentColor">Verbrauch</li>
        <li><a href="settings.php">Einstellungen</a></li>
        <li>&nbsp;</li>
        <li><a href="login.php?do=2">Log out</a></li>
      </ul>
    </div>
  </nav>
  <div class="container mx-auto px-4 py-2 lg text-center">
  <h1 class="text-2xl m-1">Verbrauch</h1>
  <hr>Verbrauch: <b>1121W</b> heute um 10:41:35<hr>
  <canvas id="myChart" width="600" height="300"></canvas>
    <script>
    const ctx = document.getElementById("myChart");
    const labels = [ new Date("2022-12-16 06:37:06"), new Date("2022-12-16 06:38:07"), new Date("2022-12-16 06:39:10"), new Date("2022-12-16 06:40:11"), new Date("2022-12-16 06:41:12"), new Date("2022-12-16 06:42:15"), new Date("2022-12-16 06:43:16"), new Date("2022-12-16 06:44:17"), new Date("2022-12-16 06:45:18"), new Date("2022-12-16 06:46:22"), new Date("2022-12-16 06:47:23"), new Date("2022-12-16 06:48:25"), new Date("2022-12-16 06:49:25"), new Date("2022-12-16 06:50:26"), new Date("2022-12-16 06:51:27"), new Date("2022-12-16 06:52:29"), new Date("2022-12-16 06:53:30"), new Date("2022-12-16 06:54:33"), new Date("2022-12-16 06:55:34"), new Date("2022-12-16 06:56:34"), new Date("2022-12-16 06:57:35"), new Date("2022-12-16 06:58:38"), new Date("2022-12-16 06:59:41"), new Date("2022-12-16 07:00:43"), new Date("2022-12-16 07:01:45"), new Date("2022-12-16 07:02:46"), new Date("2022-12-16 07:03:48"), new Date("2022-12-16 07:04:49"), new Date("2022-12-16 07:05:50"), new Date("2022-12-16 07:06:53"), new Date("2022-12-16 07:07:54"), new Date("2022-12-16 07:08:55"), new Date("2022-12-16 07:09:56"), new Date("2022-12-16 07:10:56"), new Date("2022-12-16 07:11:58"), new Date("2022-12-16 07:13:00"), new Date("2022-12-16 07:14:00"), new Date("2022-12-16 07:15:01"), new Date("2022-12-16 07:16:03"), new Date("2022-12-16 07:17:05"), new Date("2022-12-16 07:18:06"), new Date("2022-12-16 07:19:08"), new Date("2022-12-16 07:20:10"), new Date("2022-12-16 07:21:10"), new Date("2022-12-16 07:22:11"), new Date("2022-12-16 07:23:12"), new Date("2022-12-16 07:24:16"), new Date("2022-12-16 07:25:17"), new Date("2022-12-16 07:26:17"), new Date("2022-12-16 07:27:18"), new Date("2022-12-16 07:28:20"), new Date("2022-12-16 07:29:21"), new Date("2022-12-16 07:30:22"), new Date("2022-12-16 07:31:25"), new Date("2022-12-16 07:32:27"), new Date("2022-12-16 07:33:27"), new Date("2022-12-16 07:34:28"), new Date("2022-12-16 07:35:29"), new Date("2022-12-16 07:36:35"), new Date("2022-12-16 07:37:37"), new Date("2022-12-16 07:38:38"), new Date("2022-12-16 07:39:51"), new Date("2022-12-16 07:40:52"), new Date("2022-12-16 07:41:54"), new Date("2022-12-16 07:42:56"), new Date("2022-12-16 07:43:57"), new Date("2022-12-16 07:45:00"), new Date("2022-12-16 07:46:01"), new Date("2022-12-16 07:47:02"), new Date("2022-12-16 07:48:04"), new Date("2022-12-16 07:49:05"), new Date("2022-12-16 07:50:06"), new Date("2022-12-16 07:51:07"), new Date("2022-12-16 07:52:08"), new Date("2022-12-16 07:53:09"), new Date("2022-12-16 07:54:11"), new Date("2022-12-16 07:55:12"), new Date("2022-12-16 07:56:13"), new Date("2022-12-16 07:57:16"), new Date("2022-12-16 07:58:17"), new Date("2022-12-16 07:59:18"), new Date("2022-12-16 08:00:19"), new Date("2022-12-16 08:01:21"), new Date("2022-12-16 08:02:23"), new Date("2022-12-16 08:03:24"), new Date("2022-12-16 08:04:24"), new Date("2022-12-16 08:05:25"), new Date("2022-12-16 08:06:27"), new Date("2022-12-16 08:07:29"), new Date("2022-12-16 08:08:30"), new Date("2022-12-16 08:09:32"), new Date("2022-12-16 08:10:34"), new Date("2022-12-16 08:11:34"), new Date("2022-12-16 08:12:35"), new Date("2022-12-16 08:13:37"), new Date("2022-12-16 08:14:40"), new Date("2022-12-16 08:15:41"), new Date("2022-12-16 08:16:43"), new Date("2022-12-16 08:17:44"), new Date("2022-12-16 08:18:46"), new Date("2022-12-16 08:19:47"), new Date("2022-12-16 08:20:48"), new Date("2022-12-16 08:21:51"), new Date("2022-12-16 08:22:52"), new Date("2022-12-16 08:23:53"), new Date("2022-12-16 08:24:53"), new Date("2022-12-16 08:25:55"), new Date("2022-12-16 08:26:58"), new Date("2022-12-16 08:28:00"), new Date("2022-12-16 08:29:00"), new Date("2022-12-16 08:30:01"), new Date("2022-12-16 08:31:03"), new Date("2022-12-16 08:32:05"), new Date("2022-12-16 08:33:05"), new Date("2022-12-16 08:34:08"), new Date("2022-12-16 08:35:09"), new Date("2022-12-16 08:36:10"), new Date("2022-12-16 08:37:11"), new Date("2022-12-16 08:38:12"), new Date("2022-12-16 08:39:16"), new Date("2022-12-16 08:40:16"), new Date("2022-12-16 08:41:17"), new Date("2022-12-16 08:42:30"), new Date("2022-12-16 08:43:31"), new Date("2022-12-16 08:44:33"), new Date("2022-12-16 08:45:35"), new Date("2022-12-16 08:46:35"), new Date("2022-12-16 08:47:38"), new Date("2022-12-16 08:48:39"), new Date("2022-12-16 08:49:40"), new Date("2022-12-16 08:50:42"), new Date("2022-12-16 08:51:44"), new Date("2022-12-16 08:52:45"), new Date("2022-12-16 08:53:46"), new Date("2022-12-16 08:54:46"), new Date("2022-12-16 08:55:47"), new Date("2022-12-16 08:56:49"), new Date("2022-12-16 08:57:51"), new Date("2022-12-16 08:58:52"), new Date("2022-12-16 08:59:54"), new Date("2022-12-16 09:00:56"), new Date("2022-12-16 09:01:56"), new Date("2022-12-16 09:02:57"), new Date("2022-12-16 09:03:59"), new Date("2022-12-16 09:05:02"), new Date("2022-12-16 09:06:04"), new Date("2022-12-16 09:07:04"), new Date("2022-12-16 09:08:05"), new Date("2022-12-16 09:09:07"), new Date("2022-12-16 09:10:09"), new Date("2022-12-16 09:11:10"), new Date("2022-12-16 09:12:13"), new Date("2022-12-16 09:13:14"), new Date("2022-12-16 09:14:15"), new Date("2022-12-16 09:15:16"), new Date("2022-12-16 09:16:17"), new Date("2022-12-16 09:17:20"), new Date("2022-12-16 09:18:21"), new Date("2022-12-16 09:19:23"), new Date("2022-12-16 09:20:23"), new Date("2022-12-16 09:21:25"), new Date("2022-12-16 09:22:27"), new Date("2022-12-16 09:23:28"), new Date("2022-12-16 09:24:31"), new Date("2022-12-16 09:25:32"), new Date("2022-12-16 09:26:32"), new Date("2022-12-16 09:27:33"), new Date("2022-12-16 09:28:35"), new Date("2022-12-16 09:29:38"), new Date("2022-12-16 09:30:40"), new Date("2022-12-16 09:31:46"), new Date("2022-12-16 09:32:47"), new Date("2022-12-16 09:33:49"), new Date("2022-12-16 09:34:50"), new Date("2022-12-16 09:35:51"), new Date("2022-12-16 09:36:54"), new Date("2022-12-16 09:37:55"), new Date("2022-12-16 09:38:56"), new Date("2022-12-16 09:39:56"), new Date("2022-12-16 09:40:58"), new Date("2022-12-16 09:42:01"), new Date("2022-12-16 09:43:02"), new Date("2022-12-16 09:44:03"), new Date("2022-12-16 09:45:16"), new Date("2022-12-16 09:46:17"), new Date("2022-12-16 09:47:19"), new Date("2022-12-16 09:48:20"), new Date("2022-12-16 09:49:21"), new Date("2022-12-16 09:50:24"), new Date("2022-12-16 09:51:25"), new Date("2022-12-16 09:52:26"), new Date("2022-12-16 09:53:28"), new Date("2022-12-16 09:54:30"), new Date("2022-12-16 09:55:30"), new Date("2022-12-16 09:56:32"), new Date("2022-12-16 09:57:34"), new Date("2022-12-16 09:58:35"), new Date("2022-12-16 09:59:37"), new Date("2022-12-16 10:00:39"), new Date("2022-12-16 10:01:40"), new Date("2022-12-16 10:02:43"), new Date("2022-12-16 10:03:44"), new Date("2022-12-16 10:04:44"), new Date("2022-12-16 10:05:45"), new Date("2022-12-16 10:06:47"), new Date("2022-12-16 10:07:49"), new Date("2022-12-16 10:08:51"), new Date("2022-12-16 10:09:51"), new Date("2022-12-16 10:10:52"), new Date("2022-12-16 10:11:54"), new Date("2022-12-16 10:12:56"), new Date("2022-12-16 10:13:57"), new Date("2022-12-16 10:14:59"), new Date("2022-12-16 10:16:01"), new Date("2022-12-16 10:17:01"), new Date("2022-12-16 10:18:02"), new Date("2022-12-16 10:19:03"), new Date("2022-12-16 10:20:06"), new Date("2022-12-16 10:21:07"), new Date("2022-12-16 10:22:08"), new Date("2022-12-16 10:23:09"), new Date("2022-12-16 10:24:10"), new Date("2022-12-16 10:25:12"), new Date("2022-12-16 10:26:13"), new Date("2022-12-16 10:27:16"), new Date("2022-12-16 10:28:17"), new Date("2022-12-16 10:29:17"), new Date("2022-12-16 10:30:18"), new Date("2022-12-16 10:31:20"), new Date("2022-12-16 10:32:23"), new Date("2022-12-16 10:33:24"), new Date("2022-12-16 10:34:24"), new Date("2022-12-16 10:35:25"), new Date("2022-12-16 10:36:27"), new Date("2022-12-16 10:37:29"), new Date("2022-12-16 10:38:30"), new Date("2022-12-16 10:39:33"), new Date("2022-12-16 10:40:34") ];
    const data = {
      labels: labels,
      datasets: [{
        label: "Verbrauch [W]",
        data: [ 3019, 2997, 2899, 2899, 2938, 3016, 2675, 1742, 813, 347, 354, 354, 356, 665, 704, 929, 642, 607, 376, 352, 347, 345, 347, 350, 350, 352, 352, 350, 350, 331, 315, 297, 295, 313, 724, 1574, 2380, 2802, 2841, 2880, 2899, 2915, 2931, 2947, 2342, 1490, 603, 277, 275, 313, 333, 331, 329, 311, 334, 316, 326, 305, 305, 276, 295, 312, 350, 350, 348, 350, 370, 352, 352, 313, 315, 413, 1239, 2074, 2798, 2837, 2822, 2861, 2880, 2931, 2896, 2510, 1654, 807, 277, 275, 234, 214, 175, 195, 196, 197, 177, 194, 232, 310, 372, 409, 411, 411, 428, 428, 409, 415, 433, 467, 462, 486, 807, 1633, 2374, 2817, 2744, 2739, 2744, 2754, 2754, 2710, 2296, 1440, 557, 148, 147, 156, 176, 156, 176, 175, 215, 195, 214, 235, 257, 277, 256, 272, 253, 272, 253, 274, 256, 256, 252, 250, 253, 256, 885, 1751, 2569, 2787, 2802, 2822, 2833, 2813, 2783, 2841, 2168, 1338, 430, 235, 234, 213, 214, 215, 237, 236, 213, 212, 188, 190, 171, 176, 176, 175, 156, 136, 119, 118, 117, 135, 136, 129, 111, 129, 861, 1702, 2510, 2666, 2685, 2720, 2685, 2700, 2230, 1800, 1362, 1401, 1421, 1440, 1452, 1498, 1546, 1701, 1810, 1946, 2032, 2250, 2459, 2616, 2646, 2666, 2705, 2724, 2778, 2793, 2809, 2257, 1401, 545, 177, 197, 196, 215, 387, 545, 548, 356, 197, 174, 387, 841, 1444, 1593, 1557, 1362, 1297, 1206, 1129, 1151 ],
        yAxisID: "yleft",
        backgroundColor: "rgb(25, 99, 132)",
        showLine: false
      },
      {
        label: "Verbrauch total [kWh]",
        data: [ 0, 0.055000000000291, 0.10399999999936, 0.15400000000227, 0.2039999999979, 0.25300000000425, 0.30500000000029, 0.35900000000402, 0.38900000000285, 0.39500000000407, 0.40099999999802, 0.40699999999924, 0.41300000000047, 0.41900000000169, 0.42500000000291, 0.44700000000012, 0.45500000000175, 0.47299999999814, 0.4800000000032, 0.48600000000442, 0.49199999999837, 0.49799999999959, 0.50400000000081, 0.51000000000204, 0.51600000000326, 0.52199999999721, 0.52799999999843, 0.53399999999965, 0.54000000000087, 0.5460000000021, 0.55200000000332, 0.5570000000007, 0.56199999999808, 0.56700000000274, 0.57200000000012, 0.57800000000134, 0.60399999999936, 0.65200000000186, 0.69900000000052, 0.74799999999959, 0.7980000000025, 0.84700000000157, 0.89699999999721, 0.94700000000012, 0.99599999999919, 1.0460000000021, 1.0679999999993, 1.073000000004, 1.0769999999975, 1.0820000000022, 1.0869999999995, 1.0930000000008, 1.099000000002, 1.1039999999994, 1.1100000000006, 1.114999999998, 1.1209999999992, 1.1260000000038, 1.1319999999978, 1.1370000000024, 1.1419999999998, 1.1469999999972, 1.1529999999984, 1.1589999999997, 1.1650000000009, 1.1710000000021, 1.1770000000033, 1.1829999999973, 1.1900000000023, 1.1949999999997, 1.2010000000009, 1.2059999999983, 1.211000000003, 1.2220000000016, 1.2690000000002, 1.3170000000027, 1.364999999998, 1.4140000000043, 1.4619999999995, 1.5120000000024, 1.5619999999981, 1.6110000000044, 1.6600000000035, 1.6909999999989, 1.6960000000036, 1.7010000000009, 1.7050000000017, 1.7099999999991, 1.7130000000034, 1.7160000000003, 1.7189999999973, 1.7229999999981, 1.7260000000024, 1.7289999999994, 1.7320000000036, 1.7360000000044, 1.7410000000018, 1.7479999999996, 1.7549999999974, 1.7620000000024, 1.7690000000002, 1.775999999998, 1.7839999999997, 1.7909999999974, 1.7969999999987, 1.8050000000003, 1.8130000000019, 1.8210000000036, 1.8289999999979, 1.8380000000034, 1.862000000001, 1.9120000000039, 1.9599999999991, 2.0060000000012, 2.0529999999999, 2.0999999999985, 2.1469999999972, 2.1929999999993, 2.239999999998, 2.2870000000039, 2.3110000000015, 2.3139999999985, 2.3170000000027, 2.3190000000031, 2.3220000000001, 2.3250000000044, 2.3280000000013, 2.3300000000017, 2.3340000000026, 2.3369999999995, 2.3410000000003, 2.3439999999973, 2.3479999999981, 2.3530000000028, 2.3570000000036, 2.362000000001, 2.3660000000018, 2.3709999999992, 2.375, 2.3799999999974, 2.3839999999982, 2.3890000000029, 2.3930000000037, 2.3969999999972, 2.4020000000019, 2.4060000000027, 2.4100000000035, 2.4150000000009, 2.4510000000009, 2.5, 2.5469999999987, 2.5950000000012, 2.6440000000002, 2.6920000000027, 2.7390000000014, 2.7870000000039, 2.8349999999991, 2.885000000002, 2.8989999999976, 2.9029999999984, 2.9069999999992, 2.9110000000001, 2.9150000000009, 2.9179999999978, 2.9219999999987, 2.9259999999995, 2.9300000000003, 2.9340000000011, 2.9369999999981, 2.9409999999989, 2.9440000000031, 2.9470000000001, 2.9500000000044, 2.9530000000013, 2.9559999999983, 2.9590000000026, 2.961000000003, 2.9630000000034, 2.9650000000038, 2.9670000000042, 2.9689999999973, 2.9720000000016, 2.974000000002, 2.9760000000024, 2.9780000000028, 2.9809999999998, 3.0200000000041, 3.0650000000023, 3.1100000000006, 3.1569999999992, 3.2030000000013, 3.2490000000034, 3.2949999999983, 3.3410000000003, 3.3629999999976, 3.3870000000024, 3.4110000000001, 3.4349999999977, 3.4599999999991, 3.4850000000006, 3.510000000002, 3.5370000000039, 3.5639999999985, 3.5959999999977, 3.6290000000008, 3.6640000000043, 3.7010000000009, 3.7439999999988, 3.7890000000043, 3.8340000000026, 3.8799999999974, 3.9259999999995, 3.9729999999981, 4.0200000000041, 4.0679999999993, 4.114999999998, 4.1620000000039, 4.1840000000011, 4.1869999999981, 4.1900000000023, 4.1929999999993, 4.1970000000001, 4.2000000000044, 4.2039999999979, 4.2170000000042, 4.2280000000028, 4.2320000000036, 4.2350000000006, 4.2379999999976, 4.2410000000018, 4.2549999999974, 4.2810000000027, 4.3139999999985, 4.336000000003, 4.3610000000044, 4.3839999999982, 4.4029999999984, 4.4230000000025 ],
        yAxisID: "yright",
        backgroundColor: "rgba(255, 99, 132, 0.4)",
        showLine: false
      }
    ],
    };
    const config = {
      type: "line",
      data: data,
      options: {
        scales: {
          x: { type: "time", 
            time: { unit: "hour" }
              },
          yleft: { type: "logarithmic", position: "left", ticks: {color: "rgb(25, 99, 132)"} },
          yright: { type: "linear",  position: "right", ticks: {color: "rgba(255, 99, 132, 0.8)"}, grid: {drawOnChartArea: false} }
        }
      }
    };
    const myChart = new Chart( document.getElementById("myChart"), config );
    </script>
<script>
function setValAndSubmit(valueString){
    document.getElementById('hiddentext').value=valueString;
    document.getElementById('timerangeform').submit();
}
</script>
<form id="timerangeform" action="index.php" method="get">
<input type="checkbox" id="reload" name="reload" value="1" onChange="setValAndSubmit('6')" > reload
<button type="button" onclick="setValAndSubmit('1')" class="btn">1 h</button>
<button type="button" onclick="setValAndSubmit('6')" class="btn-diff">6 h</button>
<button type="button" onclick="setValAndSubmit('24')" class="btn">24 h</button>
<button type="button" onclick="setValAndSubmit('25')" class="btn">alles</button>
<input type="text" id="hiddentext" name="range" value="invalidRange" hidden>
</form>
<hr>Insgesamt 813 Eintr√§ge
</div></body></html>
